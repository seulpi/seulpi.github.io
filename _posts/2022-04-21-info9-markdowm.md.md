---
layout: post
title: 9. 소프트웨어 개발 보안 구축
subtitle: ★★★ 
categories: markdown
tags: [정보처리기사_실기]
---

# 9. 소프트웨어 개발 보안 구축
## 9-1. 소프트에어 개발 보안 설계
### * S/W 개발 보안 : 소스코드 등에 존재하는 보안 취약점을 제거하고 보안을 고려해 기능을 설계, 구현하는 등 **S/W 개발과정에서 지켜야 할 일련의 보안 활동**
> [ S/W 개발 보안 생명주기 ] 요구사항명세 - 설계 - 구현 - 테스트 - 유지보수 
- S/W 개발 보안의 ***구성요소*** : (**기무가**)
    1. 기밀성 (Confidentiality) : 허가되지 않은 개인이나 시스템 접근에 따른 정보공개 및 노출을 차단하는 특성
    2. 무결성 (Intrgtiry) : 데이터가 훼손되거나 파괴되지 않음을 보장하는 특성
    3. 가용성 (Availability) : 권한을 가진 사용자가 서비스를 지속해서 사용할 수 있게 보장하는 특성
- S/W 개발 보안 ***용어*** : (**자위취위** **자**기자신의 **위**안을 **취**하는건 **위**험하지않아)
    - 자산 (Assets) : 조직의 소유주가 가치를 부여한 대상 ex) 기업의 중요 데이터
    - 위협 (Threat) : 조직이나 기업 자산에 악영향을 끼칠 수 있는 사건이나 행위 ex) 해킹, 삭제, 위/변조 등
    - 취약점 (Vulnerability) : 시스템의 정보 보증을 낮추는데 사용되는 약점 ex) 입력값 미검증, 비밀번호 공유 등
    - 위험 (Risk) : 조직의 자산 손실 피해를 가져올 가능성
- ***공격기법***
    - DoS(Denial of Service) : 악성 패킷을 보내는 방식
        |종류|설명 
        |----|---
        |SYN 플러딩 (SYN Flooding)| TCP 프로토콜의 구조적인 문제를 이용해 공격
        |UDP 플러딩 (UDP Flooding)| 대량의 UDP 패킷을 만들어 임의의 포트번호를 전송 → 응답메세지를 생성 → 지속해서 자원을 고갈시키는 공격
        |스머프 (Smurf) <br> 스머핑(Smurfing)| 출발지 주소를 공격대상의 IP로 설정해 네트워크 전체에 ICMP Ehco 패킷을 직접브로드캐스팅해 마비시키는 공격
        |죽음의 핑 (PoD; Ping of Death)|ICMP 패킷을 아주 크게 만들어 전송 → 다수의 IP 단편화(여러개로 쪼개) → 수신 측에서 단편화된 패킷 재조립 → 과부화 → 정상적인 서비스를 하지 못하게 함 
        |랜드어택 (Land Attack)| 출발지, 목적지의 IP를 동일하게 만들어 전송 → 수신자가 자기 자신에게 응답을 보내게 해(루프) 시스템의 가용성울 침해하는 공격 기법
        |티어 드롭 (Tear Drop)| IP 헤더가 조작된 일련의 IP 패킷 조각을 전송 → IP 재조합 과정에서 잘못된 정보로 문제 발생
        |봉크(Bonk) <br> 보잉크(Boink)| 프로토콜의 오류 제어를 이용한 공격기법 <br> ``` 봉크: 같은 시퀀스번호를 계속 보냄 / 보잉크 : 일정한 간격으로 시퀀스 번호에 빈 공간 생성```
    - DDos (Distributed DoS) : DoS에서 진화된 공격기법으로 여러대의 컴퓨터를 감염시키고 분산된 좀비 PC들을 이용해 타겟 시스템을 집중적으로 공격해 서비스를 마비시키는 기법
        - DDoD 공격 ***구성요소*** : (**HAMAD**)
            1. 핸들러(Handler) : 마스터 시스템의 역할을 수행하는 프로그램 
            2. 에이전트 (Agent) : 공격 대상에 직접 공격을 가하는 시스템
            3. 마스터(Master) : 공격자에게 직접 명령을 받는 시스템 , 여러대의 에이전트를 관리 
            4. 공격자 (Attacker) : 공격을 주도하는 해커의 컴퓨터
            5. 데몬 프로그램(Daemon) : 에이전트의 역할을 수행하는 프로그램
        
        |공격도구| 설명
        |----|---
        | Trinoo | UDP flood 서비스 거부 공격을 유발하는 데 사용되는 도구 
        | Tribe Flood Network | Trinoo와 유사한 분산도구로 많은 소스에 하나 or 여러 개의 목표 시스템에 대해 서비스 거부 공격을 수행할 수 있는 도구 
        |Stacheldraht | 분산 서비스 거부 에이전트 역할을 하는 Linux 및 Solaris 시스템용 멀티웨어 도구 
    - DRDoS (Distributed Reflection DoS) : 출발지 IP를 공격대상 IP로 위조해 다수의 반사서버로 요청 정보를 전송 → 다량의 응답을 받아 서비스 거부(DoS)가 되는 공격
    - 어플리케이션 공격 : DDoS 서비스 마비 공격
        |공격기법|설명
        |----|---
        | HTTP GET 플러딩 | Catche Control Attack 공격 / **과도한 Get 메세지를 이용해 웹서버의 과부화를 유발**시키는 공격 
        | Slowloris (Slow HTTP **Header** Dos) | HTTP GET 메서드를 사용해 헤더의 최종 끝을 알리는 개행문자열을 전송 X , 일부만 전송 <br>→ 대상 웹서버와 연결장새 장시간 지속 → 연결자원 모두 소진시키는 서비스 거부 공격 
        |RUDY (Slow HTTP **POST** DoS) | 요청 헤더의 Content-Length를 크게 설정해 메세지 body 부분을 소량으로 보내 계속 연결상태를 유지시키는 공격 <br> ```ex) Content-Length: 9999999 설정 → 1byte씩 전송해 연결 유지```
        |Slow HTTP **Read** DoS | TCP 윈도 크기와 데이터 처리율을 감소시킨 상태에서 다수 HTTP 패킷을 지속적으로 전송 <br> → 대상 웹 서버의 연결상태 장시간 지속 → 연결자원 소진
        |Hulk DoS| 공격대상의 URL을 지속적으로 변경 → 다량으로 GET 요청을 발생시키는 서비스 거부 공격
        |Hash DoS| 조작된 많은 파라미터를 POST 방식으로 전달 → 다수의 해시 충돌을  발생시켜 자원을 소모시키는 서비스 거부 공격
    - 네트워크 공격 
        |공격기법|설명
        |-----|----
        |스니핑 (Sniffing) | 직접 공격 X, 데이터만 몰래 들여다보는 수동적 공격기법
        |네트워크 스캐너, 스니퍼 | 공격자가 취약점을 탐색하는 공격도구
        |패스워드 크래킹 (Password Cracking) | 사전, 무차별 크래킹 공격 / 패스워드 하이브리드 공격 / 레인보우 테이블 공격 활용 <br> - 사전 (Dictionary) 크래킹 공격 : ID와 패스워드가 될 가능성이 있는 단어를 파일로 만들어 파일의 단어를 대입해 크랙하는 공격 기법 <br> - 무차별 (Brute Force) 크래킹 : 무작위로 패스워드 자리에 대입해 패스워드를 알아보는 공격기법 <br> - 패스워드 하이브리드 공격 : 사전 공격 + 무차별 공격 <br> - 레인보우 테이블 공격 : 패스워드 별로 해시값을 미리 생성해 테이블에 모아놓고 크래킹하고자 하는 해시값을 테이블에서 검색해 역으로 패스워드를 찾는 공격기법
        |IP 스푸핑 (IP Spoofing) | 침입자가 인증된 시스템인 것처럼 속여 본인의 패킷 헤더를 인증된 호스트 IP 주소로 위조해 타킷에 전송하는 기법 
        | ARP 스푸핑 | MAC주소를 공격자 자신의 MAC주소로 위조한 ARP Reply를 만들어 타겟에게 지속적으로 전송  
        |ICMP Redirect 공격 | ICMP Rediret 메세지를 공격자가 원하는 형태로 만들어 특정 목적지로 가는 패킷을 공격자가 스니핑하는 공격 기법
        |트로이 목마| 겉보기에는 정상적인 프로그램이지만 실행하면 악성코드를 실행하는 프로그램
- 시스템 보안 위협 
    1. 버퍼 오버플로우 공격 : 메모리에 할당된 버퍼 크기를 초과하는 양의 데이터를 입력 → 프로세스 흐름을 변경시켜 악성코드를 실행하는 공격기법
        >[유형] 스택 버퍼 오버플로우 공격, 힙 버퍼 오버플로우 공격
    2. 백도어 (Backdoor) : 컴퓨터 시스템 혹은 알고리즘에서 정상적인 인증 절차를 우회하는 기법
    3. 주요 시스템 보안 공격기법 
        |공격기법|설명
        |-----|----
        |포맷 스트링 공격| 포맷 스트링을 인자로 하는 함수의 취약점을 이용한 공격
        |레이스 컨디션 공격| 실행되는 프로세스가 임시파일을 만드는 경우 악의적인 프로그램을 통해 그 프로세스의 실행 중 끼어들어 임시파일을 심볼릭 링크하여 악의적인 행위를 수행하게 하는 공격기법 
        |키로커 공격| 사용자의 키보드 움직임을 탐지해 저장하고 개인의 중요한 정보를 몰래 빼가는 해킹 공격
        |루트킷| 시스템 침입 후 침입 사실을 숨긴 채 차후 침입을 위한 불법적인 해킹에 사용되는 기능을 제공하는 프로그램의 모음 
- 보안 관련 용어 
    |용어| 설명
    |-----|----
    |스피어피싱 (Spear Phising) | 이메일을 보내 본문 링크나 첨부파일을 클릭하도록 유도해 사용자의 개인정보를 탈취하는 공격 기법
    |스미싱 (Smishing) | SMS + Phising / 문자메세지를 이용해 개인 정보를 요구하거나 핸드폰 소액 결제를 유도하는 공격
    |큐싱 (Qshing) | QR코드 + Phising / QR 코드를 통해 악성 앱을 받도록 유도해 금융정보등을 빼내는 공격
    |봇넷 (Botnet) | 악성프로그램에 감염되어 있는 다수의 컴퓨터들이 네트워크로 연결된 형태 
    |APT 공격 (Advanced Persistent Threat) | 다양한 수단을 통한 지속적이고 지능적인 맞춤형 공격기법
    |공급망 공격 (Supply Chain Attack) | 사용자 PC에 S/W를 설치 or 업데이트시 자동적으로 감염되도록 하는 공격기법
    |제로데이 공격 | 보안취약점 발견 전에 해당 취약점을 악용해 이루러지는 보안 공격기법 
    |웜 (Worm) | 스스로를 복제해 네트워크 등의 연결을 통해 전파하는 악성 S/W 컴퓨터 프로그램
    |악성 봇 (Malicious Bot) | 스스로 실행되지 못하고 해커의 명령에 의해 원격에서 제어 or 실행이 가능한 코드 혹은 프로그램
    |사이버 킬체인 (Cyber Kill Chain)| 7단계 프로세스별 공격분석 및 대응을 체계화한 APT 공격 방어 분석모델
    |랜섬웨어 (Ransomware)| 감염된 시스템의 파일들을 암호화해 복호화할 수 없게하고 피해자에게 돈을 요구하는 악성 S/W
    |이블 트윈 공격(Evil Twin)| 무선 Wifi 피싱 기법으로 사용자들의 정보를 탈취하는 무선 네트워크 공격기법
    |난독화 (Obfuscation) | 프로그램 코드의 일부 or 전체를 변경하는 기법 
    |Tripwire| 시스템 관리자가 시스템 내에서 어떤 변화가 있는 지 감지할 수 있게 해주는 도구 
    |Ping| 인터넷으로 접속하려는 원격 호스트가 정상적으로 운영되고 있는지를 확인하는 목적으로 사용하는 명령어 
    |Tcpdump| 네트워크 인터페이스를 거치는 패킷의 내용을 출력해주는 프로그램, 스니핑도구의 일종 
- ***서버인증 및 접근통제***
    - 서버 인증 : 접속자의 로그인 정보를 확인하는 보안 절차 
    - 서버 인증 기능 
        1. 스니핑 방지 : SSL 인증서를 설치 → 모든 정보 암호화 
        2. 피싱 방지 : 인증을 받지 X → SSL 인증서 발급 X
        3. 데이터 변조 방지 : SSL 보안서버 구축을 통해 변조 원천봉쇄
        4. 기업 신뢰도 향상 : 보안 인증마크 설치 → 기업 자체에 대한 신뢰성 향상
    - 인증 기술 유형 : (**지소생특)**
        1. **지식**기반 : 사용자가 기억하고 있는 지식 
            > ex) ID , PW
        2. **소지**기반 : 소지하고 있는 사용자 물품 
            > ex) 공인인증성, OTP
        3. **생체**기반 : 고유한 사용자의 생체 정보
            > ex) 홍채, 지문, 얼굴
        4. **특징**기반 : 사용자의 특징 
            > ex) 서명, 발걸음, 몸짓
    - 서버 접근 통제 : 사람 or 프로세스가 서버 내 파일 읽기,쓰기,실행 등의 접근 여부를 허가하거나 거부하는 기능 
        - for 기밀성, 무결성, 가용성
        > [용어] 주체(Subject; 접근 요청자, 행위자) / 객체(Object; 행위가 일어나는 아이템, 제공자) / 접근(Access; 행위를 하는 주체의 활동)
        - 접근 통제 기법 
            - 식별 (Idenftification) : 주체 ▶ 객체에게 자신의 정보를 제공 
            - 인증 (Authentication) : 주체의 신원을 검증하기 위한 활동 (주체의 신원을 객체가 인정해주는 행위)
            - 인가 (Authorization) : 인증된 주체에게 접근을 허용하는 활동 
            - 책임추정성 (Accountability) : 주체의 접근을 추적하고 행동을 기록하는 활동 
        - 서버 접근 통제 유형 
            1. 임의적 접근 통제 (DAC; Discretionary Access Control) : 시스템에 대한 접근을 사용자/그룹의 **신분 기반**으로 제한하는 방법 
            2. 강제적 접근 통제 (MAC; Mandatory Access Control) : 시스템 정보의 **허용등급을 기준**으로 사용자가 갖는 접근 허가 권한에 근거해 시스템에 대한 접근을 제한하는 방법
            3. 역할기반 접근 통제 (RBAC; Role Based Access Control) : 조직 내 맡은 **역할에 기초해** 자원에 대한 접근을 제한하는 방법
        - 접근 통제 보호 모델 
            1. **벨-라파듈라 모델** (BLP; Bel-LaPadula Policy)
                - ***기밀성 강조***
                - No Read Up : 보안 수준 낮은 주체 → 보안 수준 높은 객체 읽기 X 
                - No Write Down : 보안 수준 높은 주체 → 낮은 객체 기록 X 
            2. **비바 모델** 
                - 벨-라파둘라 모델이 단점 보완 , ***무결성 보장***
                - No Read Down : 보안 수준 높은 주체 → 낮은 객체 읽기 X 
                - No Write Up : 보안 수준 낮은 주체 → 높은 객체 수정 X  
- S/W 개발 보안을 위한 ***암호화 알고리즘***
    - 암호화 알고리즘 (Encryption Algoruthm) : 정보를 쉽게 해독할 수 없는 형태로 변환하는 기법
    ![소프트웨어 개발 보안설계  암호화 알고리즘](https://user-images.githubusercontent.com/74290204/164181208-553d8376-eb33-48bf-9b4d-b9a0e40d2ef2.png)
- ***암호화 전송***
    1. IPSec : IP 계층에서 **인증헤더(3계층)와 암호화(기밀성 보장)를 이용한 IP 보안 프로토콜**
        - IPSec 기능
            - 기밀성 : 대칭 암호화를 통해 전송 데이터에 대한 기밀성 제공
            - 비 연결형 무결성 : 메세지가 위&변조 되지 않았음을 보장하는 특성 제공
            - 인증 : 데이터 원천 인증 및 송신처 인증
            - 재전송 공격 방지 : 송신 측에서 IP 패킷별로 순서번호를 통해 재전송 공격 방지
            - 접근 제어 : Security Policy를 통해 시스템 접근 제어 
        - IPSec 동작 모드
            - 전송 모드 (Transport Mode) : IP 상위 프로토콜 데이터를 보호하는 모드 
            - 터널 모드 (Tunnel Mode) : IP 패킷 전체를 보호하는 모드 
        - IPSec 프로토콜 
            - **인증** 프로토콜 : MAC(메세지 인증코드)를 이용해 인증과 송신처 인증을 제공해주는 프로토콜, 기밀성은 제공하지 X / **무결성, 인증 제공**
            - **암호화** 프로토콜 : MAC(메세지 인증코드)를 이용해 기밀성을 제공해주는 프로토콜 , **기밀성, 무결성, 인증 제공**
            - **키 관리** 프로토콜 : Key를 주고받는 알고리즘 
    2. SSL/TLS (Secure Socket Layer / Transport Layer Security) : **전송계층(4계층)과 응용계층(7계층)사이에서** 클라이언트와 서버간의 웹 데이터 암호화, 상호 인증, 데이터 무결성을 보장하는 보안 프로토콜
        - SSL/TSL 특징 
            - 'Netsacpe'가 개발
            - 다양한 암호 통신 방법 활용 
            - 특정 암호기술에 의존 X
        - SSL/TLS 보안 기능 
            - 기밀성 
            - 상호인증
            - 메세지 무결성
        - SSL/TLS 
        ![소프트웨어 개발 보안설계  SSL_TLS 구조](https://user-images.githubusercontent.com/74290204/164201324-2d94b243-fb19-411f-920a-55395ab01032.png)
    
    3. S-HTTP(Secure Hypertext Transfer Protocol) : 서버와 클라이언트 간 전송되는 모든 메세지를 암호화해 전송하는 기술 
## 9-2. 소프트웨어 개발 보안 구현 
### * 시큐어 코딩 : 잠재적인 보안 취약점을 사전에 제거하고 외부공격으로부터 안전한 S/W를 개발하는 기법 
- 가이드 : (**입보시 에코캡아**)
    1. **입력 데이터 검증 및 표현** : 입력 데이터로 인해 발생하는 문제들을 예방하기 위해 구현 단계에서 검증해야 하는 보안 점검 항목들
        - 입력 데이터 검증 및 표현 ***취약점*** 
            |취약점|설명|대책
            |-----|----|---
            |**XSS** (Cross Site **Script**)| 웹페이지에 포함된 **부적절한 스크립트가 실행**되는 공격 | 특수문자 필터링, HTML 태그 사용 금지, 자바스크립트로 시작되는 문자열은 모두 문자열 변호나처리
            |**사이트 간 요청 위조** (**CSRF**; Cross Site **Request Forgery**)| **사용자의 의지와 무관하게** 공격자가 의도한 행위를 특정 웹사이트에 요청하게 하는 공격| 입력화면 폼 작성 시 GET 보단 POST 사용, CSRF 토큰을 사용해 점검
            |**SQL 삽입 (SQL Injection)**|**악의적인 SQL 구문을 삽입&실행**시켜 DB의 접근을 통해 정보를 빼오거나 조작등의 행위를 하는 공격기법| 사용자보루터 입력될 수 있는 모든 값을 체크해 필터링 , JAVA에서만 Servlet Filter 기능 적용
    2. **보안기능** : 개발단계에서 인증, 접근제어, 기밀성, 암호화 등을 적절하게 구현하기 위한 보안 점검 
        > [보안기능 ***취약점*** ] 적절한 인증 없이 중요 기능 허용 / 부적절한 인가 / 취약한 암호화 알고리즘 사용 / 중요 정보 평문 저장 및 전송 / 하드 코드 된 비밀번호
    3. **시간 및 검증** : 시간 및 상태에서의 부적절한 관리 
        > [시간 및 검증 ***대응 방안*** ] 공유 자원의 접근 직렬화, 병렬 실행 가능 프레임워크 사용, 블록문내에서만 재귀함수 사용

    4. **에러처리** : 프로그램 실행 시 발생하는 에러를 예외처리하지못하거나 에러 정보에 중요한 정보가 포함될때 발생할 수 있는 취약점 예방을 위한 보안 점검 항목들
        > [에러처리 ***취약점*** ] 취약한 패스워드 요구조건 / 오류 메세지 통한 정보 노출 / 오류 상황 대응 부재 / 적절하지 않은 예외 처리
    5. **코드 오류** : 구현 단계에서 개발자가 실수하는 프로그램 오류를 예방하기 위한 보안 점검 항목들이다
        >[코드 오류 ***취약점*** ] 널포인트 역참조 / 정수를 문자로 변환 / 부적절한 자원 해제 / 초기화되지 않은 변수 사용
    6. **캡슐화** : 허가되지 않은 사용자에게 데이터 유출, 권한 문제 등이 발생할 수 있는 보안 취약점 예방을 위한 보안 검증 항목들
        >[캡슐화 ***취약점*** ] 잘못된 세션에 의한 데이터 정보 노출 / 제거되지 않고 남은 디버그 / 민감한 데이터를 가진 내부 클래스 사용 / 시스템 데이터 정보 노출 
    7. **API 오용** : 의도하지 않은 사용법으로 API를 사용하거나 보안에 취약한 API 사용해 발생할 수 있는 보안 취약점 예방을 위한 보안 검증 항목들 
        > [API 오용 ***취약점*** ] DNS Lookup에 의존한 보안 결정 / 위험하다고 알려진 함수 사용 / 널 매개변수 미검사
---
### * 비즈니스 영속성 계획(BCP; Business Continuity Plan) : 각종 재해, 재난으로부터 위기관리를 기반으로 재해복구, 비상계획 등을 통해 비즈니스 연속성을 보장하는 체계
|주요 용어|설명
|----|---
|**BIA** (Business Impact Analysis) | BCP를 구축하기 위한 비즈니스 영향 분석
|**RTO** (Recovery Time Objective) | 업무 중단 ~ 업무 복구까지의 시간 "얼마나 걸려요"
|**RPO** (Recovery Point Objective) | 재해 시 복구 목표 지점의 선정 "어디부터 살려요"
|**DRP** (Disaster Recovery Plan) | 운영이 불가능 할 경우를 대비한 재난 복구 계획
|**DRS** (Disaster Recovery System) | 지속적인 관리체계가 통합된 재해복구센터 <br> ```[종류] Mirror Site(RTO=0; 즉시) / Hot Site(RTO=4시간 이내) / Warm Site(RTO=수일 ~ 수주) / Cold Site(RTO=수주 ~ 수개월)```