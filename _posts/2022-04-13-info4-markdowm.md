---
layout: post
title: 4. 통합 구현
subtitle: ★★★ 
categories: markdown
tags: [정보처리기사_실기]
---

# 4. 통합 구현
## 4-1. 연계 데이터 구성
### * 연계 요구사항 분석 (★★) : 서로 다른 두 시스템, 장치, S/W를 이어주는 중계 역할을 하는 **연계 시스템과 관련된 요구사항을 분석하는 과정**
- 연계 요구 사항 분석 *기법*  : (**인체**에 대한 **설**문 **델브**)
    1. 인터뷰 : **사용자 면담**을 통한 연계 요구사항 도출
    2. 체크리스트 : 시스템 운영환경, 성능, 보안, 데이터 발생 주기 등의 **기준에 대한 점검**을 통한 분석기법
    3. 설문지 : 서비스 활용목적에 따라 설문지를 통해 분석하는 기법
    4. 델파이 기법 : **전문가의 경험적 지식**을 통한 분석 기법
    5. 브레인스토밍 : **소속된 인원들이 자유롭게 제시한 아이디어 목록**을 통해 분석하는 기법
- 연계 요구 사항 분석 *참고문서* : (**코테 응시** 하기싫어..)
    1. 코드 정의서 : 공통 코드 정의서 (코드ID, 코드명 등)
    2. 테이블 정의서 : 데이터 모델링 정의서, 테이블/프로세스 연관도, 테이블별 컬럼 속성 정의서
    3. 응용 프로그램 구성도 : 어플리케이션의 메뉴구성, 화면설계, 데이터 발생 시점등 확인 
        ```
        ex) 메뉴 구조도, 화면 설계서, 사용자 인터페이스 정의서
        ```
    4. 시스템 구성도 : H/W, S/W, 네트워크 등 연계 대상 시스템 구성도 
- 연계 요구 사항 분석 *절차* : 시스템 현황 확인 → 정의서 확인 → 체크리스트 작성 → 인터뷰 및 면담 → 연계 요구사항 분석서 작성
- 연계 시수탬의 *구성* : 송신시스템 / 수신시스템 / 중계서버 (중계 서버는 연계 방식에 따라 사용)

## 4-2. 연계 메커니즘 구성 
### * 연계 매커니즘 (★★) : 응용 S/W와 연계 대상 모듈 간의 **데이터 연계 시 요구사항을 고려한 연계방법과 주기를 설계하기 위한 매커니즘** 
- 연계 방식 : 직접 연계 방식 vs 간접 연계 방식(중간 매개체 이용)
    | 구분 | 장점  | 단점 | 연계 방식
    |-----|----|---|---|
    | 직접연계 | - 연계 통합 및 구현이 단순&용이 <br> - 개발 소요 비용 및 기간이 짧음 <br> - 성능 good| - 시스템 간 결합도가 높아 시스템 변경에 민감 <br> - 암&복호화 처리 X <br> - 연계 및 통합 가능한 시스템 환경이 제한적 | 1. DB 링크 (DB Link) : 데이터베이스에서 제공하는 DB링크 객체를 이용 / 수신시스템에서 DB링크를 생성 → 수신 시스템에서 해당 DB링크를 참조하는 방식 <br> ``` ex) 테이블명@DBLink명``` <br> 2. DB 연결 (DB Connection) : DB 커넥션풀을 생성 → 연계 프로그램에서 해당 DB 커넥션 풀 명을 이용해 연결 <br> ``` ex) 송신 시스템의 Data Source = DB Connection Pool 이름 ``` <br> 3. API / Open API : DB에서 데이터를 읽어서 제공하는 어플리케이션 프로그래밍 인터페이스 프로그램 / API명, 입출력 파라미터 정보가 필요함 <br> ``` [API; Application Programming Interface] : 응용프로그램에서 사용할 수 있게 운영체제나 프로그래밍 언어가 제공하는 기능을 제어할 수 있게 만든 인터페이스 / 어떤 응용프로그램에서 데이터를 주고받기 위한 방법을 의미``` <br> 4. JDBC : 수신 시스템에서 JDBC 드라이버를 이용해 송신 시스템 DB 와 연결 / DBMS 유형, DBMS 서버IP와 Port, DB 인스턴스(Instance) 정보가 필요 <br>``` [인스턴스] : 객체지향 프로그래밍에서 해당 클래스의 구조로 컴퓨터 저장공간에서 할당된 실체  ``` <br> 4. 하이퍼 링크 (Hyper Link) : 현재 페이지에서 다른 부분으로 가거나 전혀 다른 페이지로 이동하게 해주는 속성 <br> ``` ex) <a href="url"> Link 대상 </a> ```
    | 간접연계 |  - 서로 다른 네트워크 , 프로토콜 연계 및 통합 가능 <br> 인터페이스 변경해도 장애나 오류없이 서비스 가능 <br> - 보안이나 업무 처리 로직을 자유롭게 반영 가능 |- 성능 저하 요소 有 <br> - 테스트 기간이 상대적으로 김 | 1. 연계 솔루션 (EAI) : 기업에서 운영되는 서로 다른 플랫폼 및 어플리케이션들 간의 정보 전달, 연계 , 통합을 가능하게 해주는 솔루션 / 송수신 시스템에 설치되는 어댑터를 이용 <br> 2. Web Service / ESB : 웹 서비스가 설명된 WSDL 과 SOAP 프로토콜을 이용한 시스템 간 연계 <br>``` [WSDL; Web Services Description Language] : 웹서비스에 대한 상세 정보가 기술된 XML형식으로 구현되어 있는 언어  ``` <br> ``` [SOAP; Simple Object Access Protocol] : HTTP, HTTPS, SMTP 등을 사용하여 XML 기반의 메세지를 네트워크 상태에서 교환하는 프로토콜 ``` <br> 3. 소켓 (Socket) : 소켓을 생성하여 포트를 할당하고 클라이언트의 요청을 연결하여 통신 <br> ``` ex) TcpServer.listen(); ```
> [트리거 Trigger] : 특정 테이블에 삽입, 수정, 삭제 등의 데이터 변경 이벤트가 발생했을 경우 DBMS에서 **자동적으로 실행되도록 구현된 프로그램** <br> [오브젝트 Object] : 저장공간에서 할당되어 값을 가지거나 식별자에 의해 참조되는 공간

## 4-3. 연계 모듈 구현 환경 구성 및 개발 
### * 연계 모듈 기능 구현 : 개발하고자 하는 응용 S/W와 연계 모듈 간의 세부 설계서를 확인해 일관되고 정형화된 연계 기능을 구현할 수 有
> EAI/ESB 방식과 웹서비스 방식으로 구분
- EAI (Enterprise Application Integration) : 기업에서 운영되는 서로 다른 플랫폼 및 어플리케이션 간의 **정보를 전달, 연계, 통합이 가능하도록 해주는 솔루션**
- EAI *구성요소* : (플어 헤치지말고 브금 큐비)
    1. EAI 플랫폼 (EAI Platform) 
        - 이기종 시스템 간 어플리케이션 상호 운영 
        - 메시지 큐와 트랜잭션 미들웨어 기능 수행
        - 대규모 사용자 환경 지원을 위한 유연성과 확장성 보장
    2. 어댑터 (Adapter) : 데이터 입출력도구로 EAI의 핵심장치
    3. 브로커 (Broker) : 데이터 포맷과 코드를 변환하는 솔루션
    4. 메시지 큐 (Message Queue) : 비동기 메세지를 사용하는 다른 응용 프로그램 사이에서 데이터를 송수신하는 기술
    5. 비즈니스 워크플로우 (Business Workflow) : 미리 정의된 기업의 비즈니스 워크플로우에 따라 업무를 처리하는 기능
- EAI *구축 유형* 
    | 구축 유형 | 개념도 | 설명 |
    |-----|----|----|
    | **포인트 투 포인트** <br> (Point-to-point) |<img src = "https://user-images.githubusercontent.com/74290204/162411292-bfaa1d89-1196-481e-ac7f-d37e378c1ea8.png" width="100" height="100"> | - 가장 기초적인 어플리케이션 통합방법 (**1:1 단순 통합**) <br> - 솔루션 구매없이 개발자간의 커뮤니케이션을 통해 통합 O |
    | **허브 앤 스포크** <br> (Hub & Spoke) | <img src = "https://user-images.githubusercontent.com/74290204/162411288-d2989ad8-966c-4766-9d2c-52bd1b7a15f9.png" width="100" height="100"> | - 허브 시스템을 통해 데이터를 전송하는 **중앙 집중식 방식** <br> - 허브 장애 시 전체 장애 발생 |
    | **메세지 버스** <br> (Message Bus) | <img src = "https://user-images.githubusercontent.com/74290204/162411283-bb742845-aa34-48b9-b979-64bcea257748.png" width="100" height="100"> | - 어플리케이션 사이에 미들웨어(버스)를 두어 연계하는 **미들웨어 통합 방식** <br> - 뛰어난 확장성과 대용량 데이터 처리 O |
    | **하이브리드** <br> (Hybrid) | <img src = "https://user-images.githubusercontent.com/74290204/162411289-0aca7b83-5943-46a5-99d8-148564e72b95.png" width="100" height="100"> | - **그룹내에는 허브 앤 스포크 방식 + 그룹 간에는 메세지 버스 방식**을 사용하는 통합 방식 <br> - 그룹 내 환경에 맞는 작업 O |

- ESB (Enterprise Service Bus) : 기업에서 운영되는 서로 다른 플랫폼 및 어플리케이션들 간을 **하나의 시스템으로 관리 운영할수 있도록 서비스 중심의 통합 지향하는 아키텍쳐**
    - ESB는 미들웨어를 중심으로 각각 프로토콜이 호환할 수 있게 ***어플리케이션의 통합을 느슨한 결합*** 방식으로 지원 
        > [느슨한 결합 ; Loosely Coupled] : 특정 서비스를 변경하더라도 연결된 다른 서비스에는 영향을 주지 않는 유연한 구조하는 의미
- ESB *특징*
    - 비즈니스 프로세스 환경에 맞게 설계 및 전개할수 있는 아키텍처 패턴 
    - 버스 방식으로 확장성, 유연한 아키텍처 구성이 O

- ESI vs ESB
    | 구분 | EAI | ESB |
    |-----|----|---|
    | 개념 | 미들웨어(**Hub**)를 이용해 **비즈니스 로직을 중심으로** 기업 내 어플리케이션을 통합 | 미들웨어(**Bus**)를 이용해 **서비스 중심**으로 관련시스템과 유기적 연계 |
    | 수행 목적 | 기업 **내부**의 **이(異)기종** 응용 모듈 간 **통합** | 기업 **간** 서비스 교환을 위해 표준 API로 통합 |
    | 토폴로지 | - 포인트 투 포인트 <br> - 허브 앤 스포크 <br> - 메세지 버스 <br> - 하이브리드 | 버스 방식의 **분산형 토폴로지** 구성 |
    | 표준 | 벤더 종속성 기술 적용 | 표준 기술 사용 (웹서비스, XML 등)|
    | 핵심 기술 | - 어댑터 <br> - 브로커 <br> - 메세지 큐 | 서비스 간의 **느슨한 통합** |
    | 통합 형태 | 어플리케이션 간의 단단한 통합 | 서비스간의 느슨한 통합 |
    | 적용 영역 | 기업 **내부망** | 기업 **내부 + 외부** 채널망 | 

---
- ESI/ ESB 연계 모듈 구현 *환경 구축 절차* 
    > 연계 DB or 계정 생성 → 연계를 위한 테이블 생성(로그, 매핑 테이블 등) → 연계 응용 프로그램 구현(트리거 활용)
- ESI/ ESB 연계 모듈 구현 *사례*
    ```sql
    # 트리거로 구현한 송신 시스템의 연계 응용 프로그램 EX)
    CREATE OR REPLACE TRIGGER 프로그램명                                                        - [프로그램명]으로 트리거 생성
    AFTER INSERT                
        OR UPDATE                                                                              - 연계 데이터를 추출할 테이블 각 행에 
        OR DELETE ON 테이블명                                                                   INSERT, UPDATE, DELETE가 발생할때마다 수행
    FOR EACH ROW

    DECLARE AFTER_CODE VARCHAR2(5);                                                            - 선언부, 사용할 변수 선언
    
    BEGIN                                                                                      - 트리거 시작
    IF INSERTING THEN                                                                          - 데이터 추가된 경우
        SELECT [변환 후 코드 값]
            INTO AFTER_CODE 
            FROM [코드 매핑 테이블]                                                             - 공통 코드 및 데이터 변환 처리
            WHERE [변환 전 코드 값] = :new.[코드 컬럼]

        INSERT INTO [로그 테이블명] ([컬럼명1], [컬럼명2], ... [컬럼명 n])                        - 진행 단계별 수행 결과에 대한 로깅 처리 / 로그 테이블에 처리 결과 INSERT
            VALUES(...);

        INSERT INTO [연계 테이블명] ([컬럼명1 - 처리일시], [컬럼명2 - 변경 구분], ... [컬럼명n])    - 연계 테이블에서 INSERT 처리 
            VALUES (SYSDATE, 'I', AFTER_CODE, ..., [:new.컬럼명]);                              - 변경 구분을 'I'로 설정
    ELSE IF DELETING THEN (...)                                                                - 데이터가 삭제된 경우 처리 


    ELSE 
        IF UPDATING('[코드1 컬럼]') OR UPDATING('[코드2 컬럼]')
            THEN ...
        ELSEIF UPDATING('[텍스트 컬럼]')                                                        - 연계 데이터가 아닌 컬럼이 변경된 경우
            THEN ...
            END IF;
        END IF;
    EXCEPTION;                                                                                 - 오류 처리
    WHEN NO_DATA_FOUND THEN (...)                                                              - 등록된 코드 매핑 코드가 없을 경우
    WHEN DUP_VAL_ON_INDEX THEN (...)                                                           - 테이블 등록 시 동일 PK 데이터 존재

    END;                                                                                       - 트리거 종료
    ```

    - 웹 서비스 방식  : 웹서비스는 네트워크에 분산된 정보를 서비스 형태로 개방해 **표준화된 방식으로 공유하는 기술**
        - 유형 : SOAP / WSDL / UDDI  
            1. SOAP (Simple Object Access Protocol) : HTTP, HTTPS, SMTP 등을 사용해 **XML 기반의 메세지**를 네트워크 상태에서 교환하는 프로토콜
            2. WSDL (Web Service Description Language) : 웹서비스명, 제공위치, 메세지 포맷, 프로토콜 정보 등 **웹서비스에 대한 상세정보가 기술된** XML 형식으로 구현되어 있는 언어 
            3. UDDI (Univeral Desciption, Discovery and Integration) : **WSDL을 등록, 검색하기 위한 저장소** / 공개적으로 접근, 검색이ㅑ 가능한 레지스트리이자 표준
        - 연계 환경 구축 및 구현 절차
            - EAI/ESB 방식과 달리 **실제 전송이나 전송이력에 대한 기록 및 모니터링 기능을 별도로 구현**해야함
            > [절차] 송수신 파일 경로 및 파일명 정의 → 송신 연계 응용 프로그램 구현 → 파일 전송 → 수신 DB 반영 서비스 호출 처리 → 수신 연계 응용 프로그램 구현 
            